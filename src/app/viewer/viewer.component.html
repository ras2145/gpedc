<!--The content below is only a placeholder and can be replaced.-->
<!-- Contenedor general -->
    <app-navbar [mapTitle] = "mapTitle"></app-navbar>
    <div class="container-fluid body-height">
        <div class="row">
            <!-- INICIO Sidebar -->
                <div class="col-md-3 padding-left-none with-scroll" id="div1">
                  <div class="filtros-tab" >
                    <p class="subtitle">On this tab, Global Partnership monitoring results can be displayed by partner country or development partner. Select a type of partner, year and indicator to start exploring.</p> <!-- [ngClass]="{'map-top-01': isCategoryTop()}"-->
                    <div class="tab-viewer">
                        <!-- PARTNER-COUNTRY TAB -->
                      <tabset>
                        <tab heading="Partner Country" (select)="changePartnerType('partcntry')">
                          <div class="i-infoo">
                            <i class="mdi mdi-information i-info"
                                popover="Partner Countries include the low and middle-income countries who participate in Global Partnership monitoring."
                                placement="right"
                                triggers="mouseenter:mouseleave">
                            </i>
                          </div>
                          <div class="result-container">

                                <app-dropdown  (changeSubindicator)="updateSubindicatorValues($event)" (changeYear)="updateYearValues($event)" (changeIndicator)="updateIndicatorValues($event)" (optionExportCsv)="exportCsvViewer($event)"  [optionsSubject]="optionsSubject"></app-dropdown>
                                <div class="iconIndicator" *ngIf="iconIndicator">
                                   <!-- <img src="assets/0001.png" >  -->
                                   <img [src]="getImage()" [tooltip]="getTextIcon()"  placement="right">
                                </div>

                            <div class="form-group">
                                <p for="inputState" class="result-subtitle space-line"><span class="mdi mdi-filter"></span> Filter countries by:
                                    <i class="mdi mdi-information"
                                        popover="Below you may filter countries by region, income group or country context. Selecting two or more filters will display data for all selected criteria."
                                        placement="right"
                                        triggers="mouseenter:mouseleave">
                                    </i>
                                </p>
                            </div>

                            <div class="form-group style-select">
                                <label for="inputState" class="result-subtitle width-popUp lll-o">Region
                                     <i class="mdi mdi-information"
                                        popover="The following regional groupings are based on the OECD classification."
                                        placement="right"
                                        triggers="mouseenter:mouseleave">
                                      </i>
                                </label>
                                <div class="btn-group btn-dropdown" dropdown>
                                  <button dropdownToggle type="button" class="btn btn-dropdown dropdown-toggle">
                                    <span class="font-selet-dropdown content-select-default">{{model.region.label}}</span>
                                    <span class="dropdown-caret mdi mdi-chevron-down"></span>
                                  </button>
                                  <ul *dropdownMenu class="dropdown-menu style-default" role="menu">
                                    <li role="menuitem" *ngFor="let region of regions">
                                        <a class="dropdown-item style-a-default" (click)="selectRegion(region)">
                                            {{region.label}}
                                          </a>
                                        </li>
                                      </ul>
                                    </div>
                              </div>


                                      <div class="form-group style-select width-popUp">
                                          <label for="inputState" class="result-subtitle lll-o">Income Group
                                              <i class="mdi mdi-information"
                                                  popover="The following income groupings are based on the 2017 World Bank income classification."
                                                  placement="right"
                                                  triggers="mouseenter:mouseleave">
                                              </i>
                                          </label>
                                          <div class="btn-group btn-dropdown" dropdown>
                                              <button dropdownToggle type="button" class="btn btn-dropdown dropdown-toggle">
                                                  <span class="font-selet-dropdown content-select-default">{{model.incomeGroup.label}}</span>
                                                  <span class="dropdown-caret mdi mdi-chevron-down"></span>
                                              </button>
                                              <ul *dropdownMenu class="dropdown-menu style-default" role="menu">
                                                  <li role="menuitem" *ngFor="let incomeGroup of incomeGroups">
                                                      <a class="dropdown-item style-a-default contenido-dropdown" (click)="selectIncomeGroup(incomeGroup)">
                                                          {{incomeGroup.label}}
                                                      </a>
                                                  </li>
                                              </ul>
                                          </div>
                                      </div>


                                      <div class="form-group style-select context-pop">
                                          <label for="inputState" class="result-subtitle lll-o">Country context
                                              <i class="mdi mdi-information"
                                                  popover="The designation 'Least Developed Country' or LDC is based on the present classification by the UN as of December 2017. The 'Small Island Developing State' or SIDS designation is based on the classification of UN Member States by the UN-OHRLLS as of December 2017."
                                                  placement="right"
                                                  triggers="mouseenter:mouseleave">
                                              </i>
                                          </label>
                                          <div class="btn-group btn-dropdown" dropdown>
                                              <button dropdownToggle type="button" class="btn btn-dropdown dropdown-toggle">
                                                  <span class="font-selet-dropdown content-select-default">{{model.countryContext.label}}</span>
                                                  <span class="dropdown-caret mdi mdi-chevron-down"></span>
                                              </button>
                                              <ul *dropdownMenu class="dropdown-menu style-default" role="menu">
                                                  <li role="menuitem" *ngFor="let countryContext of countryContexts">
                                                      <a class="dropdown-item style-a-default contenido-dropdown" (click)="selectCountryContext(countryContext)">
                                                          {{countryContext.label}}
                                                      </a>
                                                  </li>
                                              </ul>
                                          </div>
                                      </div>
                                      <br>
                              <!-- <div class="padding-top-line">
                                <p class="result-subtitle-one">DEVELOPMENT PARTNER
                                    <i class="mdi mdi-information"
                                        popover="Below you may view results for development partners characterised as foundations, global funds, international organisations, multilateral development banks and UN agencies. Results will only be shown for those indicators with available data."
                                        placement="right"
                                        triggers="mouseenter:mouseleave">
                                    </i>
                                  </p>
                                  <span class="span-md">In alphabetical order</span>
                              </div>

                              <div class="row">
                                <div class="col-md-12 acordion-md">
                                  <div class="acordion">
                                    <accordion>
                                      <accordion-group #group *ngFor="let partnerGroup of categorizedPartners" [(isOpen)]="partnerGroup.open" (click)="switchPartnerGroupOpen($event, partnerGroup)">
                                        <div accordion-heading class="clearfix">
                                          {{partnerGroup.name}}
                                          <span class="float-right pull-right">
                                            <i class="mdi mdi-menu-right" *ngIf="!partnerGroup.open"></i>
                                            <i class="mdi mdi-menu-down" *ngIf="partnerGroup.open"></i>
                                          </span>
                                        </div>
                                        <table class="table table-sm">
                                          <tbody>
                                            <tr *ngFor="let partner of partnerGroup.partners">
                                              <td class="result-table-letter" *ngIf="getText(partner[model.category.column], model.category) != 'No data available'">{{partner.partner}}</td>
                                              <td *ngIf="model.subcategory == null && getText(partner[model.category.column], model.category) != 'No data available'" class="result-table-number">{{getText(partner[model.category.column], model.category)}}</td>
                                              <td *ngIf="model.subcategory != null && getText(partner[model.category.column], model.category) != 'No data available'" class="result-table-number">{{getText(partner[model.subcategory.column], model.subcategory)}}</td>
                                            </tr>
                                          </tbody>
                                        </table>
                                      </accordion-group>
                                    </accordion>
                                      <br>
                                  </div>
                                </div>
                              </div> -->

                              <div class="row">
                                <div class="col-md-12 disclaimer">
                                  * The boundaries and names shown and the designations used on this map
                                  do not imply official endorsement or acceptance by the Global Partnership,
                                  the United Nations and its affiliated entities or the Organisation for
                                  Economic Co-operation and Development.
                                </div>
                              </div>

                          </div>
                        </tab>
                        <!-- DEV PART TAB -->
                        <tab heading="Development Partner" (select)="changePartnerType('devpart')">
                          <div class="i-infoo">
                            <i class="mdi mdi-information i-info"
                                popover="Development Partners include bilateral donors and development organisations, including multilateral development banks, UN agencies and philanthropy, among others."
                                placement="right"
                                triggers="mouseenter:mouseleave">
                            </i>
                          </div>
                          <div class="result-container">
                              <app-dropdown (changeSubindicator)="updateSubindicatorValues($event)" (changeYear)="updateYearValues($event)" (changeIndicator)="updateIndicatorValues($event)"  [optionsSubject]="optionsSubject" (optionExportCsv)="exportCsvViewer($event)"></app-dropdown>
                                <div class="iconIndicator" *ngIf="iconIndicator">
                                   <!-- <img src="assets/0001.png" >  -->
                                   <img [src]="getImage()" [tooltip]="getTextIcon()"  placement="right">
                                </div>
                              <div class="padding-top-line" *ngIf="showAccordion">
                                <p class="result-subtitle-one">DEVELOPMENT PARTNER
                                    <!-- <i class="mdi mdi-information"
                                        popover="Below you may view results for development partners characterised as foundations, global funds, international organisations, multilateral development banks and UN agencies. Results will only be shown for those indicators with available data."
                                        placement="right"
                                        triggers="mouseenter:mouseleave">
                                    </i> -->
                                  </p>
                                  <span class="span-md">In alphabetical order {{showAccordion}}</span>
                              </div>

                              <div class="row" *ngIf="showAccordion">
                                <div class="col-md-12 acordion-md">
                                  <!-- ACORDION -->
                                  <div class="acordion">
                                    <accordion>
                                        <!-- <accordion-group #group *ngFor="let partnerGroup of categorizedPartners" [(isOpen)]="!partnerGroup.open" (click)="switchPartnerGroupOpen($event, partnerGroup)"> -->
                                        <accordion-group #group *ngFor="let partnerGroup of categorizedPartners" [(isOpen)]="!partnerGroup.open">
                                            <div accordion-heading class="clearfix">
                                                {{partnerGroup.name}}
                                                <span class="float-right pull-right">
                                                    <i class="mdi mdi-menu-right" *ngIf="!partnerGroup.open"></i>
                                                    <i class="mdi mdi-menu-down" *ngIf="partnerGroup.open"></i>
                                                </span>
                                            </div>
                                            <table class="table table-sm">
                                                <tbody>
                                                    <div *ngIf="partnerGroup.open; then thenpass"> </div>
                                                    <ng-template #thenpass>
                                                        <tr *ngFor="let partner of partnerGroup.partners">
                                                            <td class="result-table-letter" *ngIf="getText(partner[model.category.column], model.category) != 'No data available' || (model.subcategory != null && getText(partner[model.subcategory.column], model.subcategory) != 'No data available')">{{partner.partner}}</td>
                                                            <td *ngIf="model.subcategory == null && getText(partner[model.category.column], model.category) != 'No data available'" class="result-table-number">{{getText(partner[model.category.column], model.category)}}</td>
                                                            <td *ngIf="model.subcategory != null && getText(partner[model.subcategory.column], model.subcategory) != 'No data available'" class="result-table-number">{{getText(partner[model.subcategory.column], model.subcategory)}}</td>
                                                        </tr>
                                                    </ng-template>
                                                </tbody>
                                            </table>
                                        </accordion-group>
                                    </accordion>
                                      <br>
                                  </div>
                                  <!-- ACORDION -->
                                </div>
                              </div>

                              <div class="row">
                                <div class="col-md-12 disclaimer">
                                  * The boundaries and names shown and the designations used on this map
                                  do not imply official endorsement or acceptance by the Global Partnership,
                                  the United Nations and its affiliated entities or the Organisation for
                                  Economic Co-operation and Development.
                                </div>
                              </div>

                          </div>
                        </tab>
                      </tabset>
                    </div>
                    <!-- Contenedor tab -->
                    <tabset type="pills" style="display:none">

                        <tab heading="">
                            <!-- BOTON TAB VIEW -->
                            <template tabHeading>
                                <nav id="tab1"(click)="selectTab($event)">
                                    <i class="mdi mdi-view-quilt" id="tab1" ></i>
                                    <span class="ocultar" id="tab1" >Map Viewer</span>
                                </nav>
                            </template>
                            <!-- BOTON TAB VIEW -->
                        </tab>

                        <!-- tab analysis -->
                        <tab heading="">
                            <!-- Boton tab  -->
                            <template tabHeading>
                                <nav id = "tab2" (click)="selectTab($event)" >
                                    <i class="mdi mdi-chart-bar" id="tab2" ></i>
                                    <span class="ocultar" id="tab2" >Country Comparison</span>
                                </nav>
                            </template>

                            <div class="result-container">

                                <div class="row logo">
                                    <div class="col-md-7">
                                        <img class="logo" src="assets/logo-h.png" alt="">
                                    </div>
                                    <div class="col-md-4 text-right margin-top-btn">
                                        <button class="btn btn-export" (click)="exportCsv()">EXPORT</button>
                                    </div>
                                </div>


                                <div class="row logo">
                                    <div class="col-md-12">
                                        <p class="result-text">
                                           On this tab, Global Partnership monitoring results can be compared across two development partners and / or against an average by type of development
                                           partner (bilateral, international organisation, UN agency, etc.).
                                           Results will only be shown for those indicators with available data.
                                        </p>
                                    </div>
                                </div>
                                <!-- <div class="row">
                                    <div class="col-md-12">
                                        <p class="description">
                                            <span>Compare Indicators Acrosss Organizations: </span>Sed ut Perspiciatis unde omnisite natus error sit voluptatem accusantium doloermque laudantium, totoam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae.
                                        </p>
                                    </div>
                                </div> -->

                                <!-- <div class="row"><div class="col-md-1"></div><div class="col-md-10 border-bottom"></div></div> -->

                                <div class="row">
                                    <div class="col-md-3 space-line-1">
                                        <p class="result-subtitle width-popup">1. Select year
                                            <i class="mdi mdi-information"
                                                popover="Global Partnership monitoring data is available for both the first (2013-2014) and second (2015-2016) monitoring rounds. Data for Indicators 1-4 is only available for the 2015-2016 round."
                                                placement="right"
                                                triggers="mouseenter:mouseleave">
                                            </i>
                                        </p>
                                    </div>
                                    <div class="col-md-9 space-line-1">
                                        <p class="result-subtitle space-left">2. Select two countries to compare results:
                                          <i class="mdi mdi-information"
                                              popover="Aggregate groupings are based on 2017 OECD classification."
                                              placement="right"
                                              triggers="mouseenter:mouseleave">
                                          </i>
                                        </p>
                                    </div>
                                </div>

                                <div class="row" id="select-item">
                                    <div class="col-md-3 btn-year">
                                        <div class="radio">
                                            <label *ngFor="let title of titles" [ngClass]="{'radio-label-checked' : model.year.year == title.year}" >
                                                <input type="radio" name="radio-btn" [value]="title" [checked]="title.year == model.year.year" [(ngModel)]="model.year"  (change)="resetComparer()"/>
                                                {{title.year}}
                                            </label>
                                        </div>
                                    </div>

                                </div>


                                <div class="row padding-top-line col-line">
                                  <div class="col-md-12 disclaimer">
                                    * The boundaries and names shown and the designations used on this map
                                    do not imply official endorsement or acceptance by the Global Partnership,
                                    the United Nations and its affiliated entities or the Organisation for
                                    Economic Co-operation and Development.
                                  </div>
                                </div>

                          </div>
                       </tab>
                        <!-- tab analysis -->

                        <!-- tab analysis -->
                        <tab heading="">
                            <!-- Boton tab  -->
                            <template tabHeading>
                                <nav id = "tab3" (click)="selectTab($event)">
                                <span><!--class="rotate"--><i id="tab3" class="mdi mdi-hexagon-multiple" ></i></span>
                                <span id="tab3" d class="ocultar">Partners Comparison</span>
                                </nav>
                            </template>

                            <div class="result-container">
                                <div class="row logo">
                                    <div class="col-md-7">
                                        <img class="logo" src="assets/logo-h.png" alt="">
                                    </div>
                                    <div class="col-md-4 text-right margin-top-btn">
                                        <button class="btn btn-export-01" (click)="exportCsv(true)">EXPORT</button>
                                    </div>
                                </div>

                                <!-- <div class="row">
                                    <div class="col-md-12">
                                        <p class="description">
                                            <span>Compare Indicators Acrosss Organizations: </span>Sed ut Perspiciatis unde omnisite natus error sit voluptatem accusantium doloermque laudantium, totoam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae.
                                        </p>
                                    </div>
                                </div> -->
                                <div class="row logo">
                                    <div class="col-md-12">
                                        <p class="result-text">
                                            On this tab, Global Partnership monitoring results can be compared across
                                            two development partners (countries or organisations) and against an average by type of development partner
                                            (bilateral partners, multilateral development banks, etc). Results will only be shown for those indicators with available data.
                                        </p>
                                    </div>
                                </div>

                                <div class="row"><div class="col-md-1"></div><div class="col-md-10 select year"></div></div>

                                <div class="row">
                                    <div class="col-md-3 space-line-1">
                                        <p class="result-subtitle width-popup">1. Select year
                                            <i class="mdi mdi-information"
                                                popover="Global Partnership monitoring data is available for both the first (2013-2014) and second (2015-2016) monitoring rounds. Data for Indicators 1-4 is only available for the 2015-2016 round."
                                                placement="right"
                                                triggers="mouseenter:mouseleave">
                                            </i>
                                        </p>

                                        <div class="radio">
                                            <label *ngFor="let title of titles" [ngClass]="{'radio-label-checked' : model.year.year == title.year}" >
                                                <input type="radio" name="radio-btn" [value]="title" [checked]="title.year == model.year.year" [(ngModel)]="model.year"  (change)="getIndicator(model.year.categories[0].id)"/>
                                                {{title.year}}
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9 space-line-1 padding-btn">
                                        <p class="result-subtitle space-left width-popup-partner">2. Select which types or partners to consider for comparison (select one or many):
                                                <!-- <i class="mdi mdi-information"
                                              popover="Below you may view results for development partners characterised as international organisations."
                                              placement="right"
                                              triggers="mouseenter:mouseleave">
                                          </i> -->
                                        </p>
                                        <!-- FILTROS -->
                                        <span *ngFor="let partnerGroup of categorizedPartners">
                                            <div class="input-group-text"  >
                                                <input  type="checkbox"  [ngClass]="{'btn-filters-selected': partnerGroup.selected}" (change)="selectPartnerGroup(partnerGroup)" [checked]="true"  >
                                                <label for="">{{partnerGroup.name}}</label>
                                            </div>
                                        </span>
                                        <!-- END FILTROS -->
                                    </div>
                                </div>



                                <div class="row padding-top-line col-line">
                                  <div class="col-md-12 disclaimer">
                                    * The boundaries and names shown and the designations used on this map
                                    do not imply official endorsement or acceptance by the Global Partnership,
                                    the United Nations and its affiliated entities or the Organisation for
                                    Economic Co-operation and Development.
                                  </div>
                                </div>

                            </div>

                        </tab>
                        <!-- tab analysis -->

                    </tabset>
                    <!-- Contenedor tab -->
                  </div>

                </div>
            <!-- FIN Sidebar -->



            <!-- INICIO Map -->
                <div class="col-md-9 border-div-none" id="div2">
                    <div class="map-option" *ngIf="selectedTab !== 'tab3'" > <!-- [ngClass]="{'map-top': isCategoryTop()}"-->
                      <a [routerLink]="['/']"><button type="button" name="button" class="btn btn-viewer"><img src="assets/0005.png" class="img-md bitmap"> Map Viewer</button></a>
                        <a [routerLink]="['/country']">
                          <button type="button" name="button" class="btn btn-md">
                            <img src="assets/001.png" class="bitmap img-hh">
                            <img src="assets/001-white.png" class="bitmap img-hv">
                          </button>
                        </a>
                        <a [routerLink]="['/partner']">
                          <button type="button" name="button" class="btn btn-md">
                            <img src="assets/002.png" class="bitmap img-hh">
                            <img src="assets/002-white.png" class="bitmap img-hv">
                          </button>
                        </a>
                        <a [routerLink]="['/country-historical']">
                          <button type="button" name="button" class="btn btn-md">
                            <img src="assets/003.png" class="bitmap img-hh">
                            <img src="assets/003-white.png" class="bitmap img-hv">
                          </button>
                        </a>
                        <a [routerLink]="['/partner-historical']">
                          <button type="button" name="button" class="btn btn-md">
                            <img src="assets/004.png" class="bitmap img-hh">
                            <img src="assets/004-white.png" class="bitmap img-hv">
                          </button>
                        </a>
                      <br><br>
                      <div class="btn-group map-btn" role="group" aria-label="Basic example">
                        <button type="button" class="btn map-button" (click)="zoomIn()"><i class="mdi mdi-plus"></i></button>
                        <button type="button" class="btn map-button" (click)="zoomOut()"><i class="mdi mdi-minus"></i></button>
                      </div>
                      <div class="btn-group btn-scroll" dropdown>
                        <button dropdownToggle *ngIf="selectedTab !== 'tab2'" type="button" class="btn dropdown-toggle drop-map map-body-i">
                          <!-- {{selectedSidCountry ? selectedSidCountry.country : 'View All Countries'}} -->
                          {{selectedSidCountry ? selectedSidCountry.country : 'View all countries / territories'}}
                          <!-- <i class="mdi mdi-information"
                              popover="The ‘small state’ designation is based on the World Bank classification of ‘small states’ and ‘other small states’ as of December 2017. Only small states that reported to the selected criteria will appear in this menu."
                              placement="right"
                              triggers="mouseenter:mouseleave">
                          </i> -->
                          <span _ngcontent-c1="" class="dropdown-caret-01 mdi mdi-chevron-down"></span>
                        </button>
                        <ul *dropdownMenu class="dropdown-menu map-dropdown" role="menu">
                          <li role="menuitem" *ngFor="let sidCountry of sidsCountries" (click)="selectSid(sidCountry)"><button class="dropdown-item">{{sidCountry.country}}</button></li>
                        </ul>
                      </div>
                      <div class="btn-group" *ngIf="isSmallStateSelected">
                        <button type="button" class="btn reset-map" (click)="resetSmallState()">
                            Reset
                        </button>
                      </div>
                    </div>

                    <!-- CARD map -->
                    <!-- *ngIf="selectedTab==='tab1' && countryName !== 'Country'" -->
                    <div class="card-map" [ngClass]="!hideIndicatorHover(model.category)? 'card-map2':''" *ngIf="countryName !== 'Country-not'  &&  countryName !== 'Country'">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="head-card">
                                    <p>{{countryName}}</p>
                                    <p *ngIf="!indicator && (hideIndicatorHover(model.category) || model.subcategory)">INDICATOR {{!indicator?model.category.id:''}}</p>
                                </div>
                                <div *ngIf="!indicator  && (hideIndicatorHover(model.category) || model.subcategory)" class="number-card" [ngClass]="!hideIndicatorHover(model.category)? 'hide-hover':''" >
                                    <div class="right-number" *ngIf="hideIndicatorHover(model.category)">
                                        <p [ngClass]="alinear(countryName, '2010')">{{getIndicatorValue(countryName, '2010')}}</p>
                                        <div *ngIf="model.year.year === '2010'; then thenBlock1 else elseBlock1"></div>
                                        <ng-template #thenBlock1><p><u>2010</u></p></ng-template>
                                        <ng-template #elseBlock1><p>2010</p></ng-template>
                                    </div>
                                    <div class="left-number" *ngIf="hideIndicatorHover(model.category)">
                                        <p [ngClass]="alinear(countryName, '2014')">{{getIndicatorValue(countryName, '2014')}}</p>
                                        <div *ngIf="model.year.year === '2014'; then thenBlock2 else elseBlock2"></div>
                                        <ng-template #thenBlock2><p><u>2014</u></p></ng-template>
                                        <ng-template #elseBlock2><p>2014</p></ng-template>
                                    </div>
                                    <div class="right-number">
                                        <p [ngClass]="alinear(countryName, '2016')" >{{getIndicatorValue(countryName, '2016')}}</p>
                                        <div *ngIf="model.year.year === '2016'; then thenBlock3 else elseBlock3"></div>
                                        <ng-template #thenBlock3><p><u>2016</u></p></ng-template>
                                        <ng-template #elseBlock3><p>2016</p></ng-template>
                                    </div>
                                </div>
 
                                <div *ngIf="!indicator  && (hideIndicatorHover(model.category) || model.subcategory)" class="content-card">
                                    <p [innerHTML]="popupText">
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB MAP solo muestra cunado esta seleciona un pais-->
                    <div class="tab-map" *ngIf="selectedCountry" >
                      <div [hidden]="mapUrlProfile == '#'">
                        <a class="a-map" href="{{mapUrlProfile}}" target="_blank">
                          {{selectedCountry}}: View Country/Territory Profile
                        </a>
                      </div>
                      <!-- [heading]="footerTab===category.id?'Indicator '+category.id:category.id  " -->

                      <tabset #staticTabs >
                        <tab *ngFor="let category of categoriesNotNull"  (select)="getIndicator(category.id)" [active]="footerTab===category.id">
                                <template tabHeading>
                                    {{footerTab===category.id?'Indicator '+category.id:category.id  }}
                                    <i class="mdi mdi-information mdi-cursor" *ngIf="footerTab===category.id" (click)="findTabCategory(category.id);openModal(template)" ></i>
                                </template>
                            <i class="mdi mdi-close pop-up-close" (click)="closeFooter()">  </i>
                               <!-- <p [innerHTML]="footerText"></p>      -->
                        <!-- modificacion para eliminar innerHtml-footerText-->
                            <section>
                                <div class="tabs-result">
                                <b>{{listIndicator.title}}</b>
                                </div>
                                <div *ngFor="let indicator of listIndicator.indicator" class="tabs-result">
                                    <div [innerHTML]="indicator.prefix"></div>
                                    <div *ngIf="indicator.value === 'Yes'" [innerHTML]="indicator.yesText"></div>
                                    <div *ngIf="indicator.value === 'No'" [innerHTML]="indicator.noText"></div>
                                    <div class="row">
                                        <div class="{{indicator.classValueF}}">
                                            <h3 *ngIf="indicator.value!='Yes' && indicator.value!='No'">{{indicator.value}}
                                                <i class="mdi mdi-information mdi-cursor pos-default-modal" *ngIf="modalIndicator(listIndicator)" (click)="modalSubcategory(indicator);lgModal.show()"></i>
                                            </h3>
                                        </div>
                                        <div class="{{indicator.classValueS}}">{{indicator.suffix}}</div>
                                    </div>
                                </div>
                            </section>
                          <!--button type="button" class="btn btn-down" name="button"><i class="mdi mdi-chevron-down"></i></button-->
                        </tab>
                      </tabset>
                    </div>
                    <!-- MODAL TABLA -->
                    <div class="modal-icon">
                    <!-- <button class="btn btn-primary" (click)="lgModal.show()">Large modal</button> -->
                    <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                            <div class="row modal-header-left">
                                <div class="col-md-2">
                                    <h6>Module {{dateModal.id}}</h6>
                                </div>
                                <div class="col-md-10">
                                    <h6>{{dateModal.title}}</h6>
                                </div>
                            </div>
                            <button type="button" class="close pull-right" (click)="lgModal.hide()" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                            </div>
                            <div class="modal-body">
                            <div class="row" *ngFor="let content of dateModal.content">
                                <div class="col-md-2 text-center">
                                    <h6>{{content.id}}</h6>
                                </div>
                                <div class="col-md-8">
                                    <h6>{{content.text}}</h6>
                                </div>
                                <div  class="col-md-2 text-center">
                                    <label *ngIf="valorIndicatorContent(content.id)"><i class="mdi mdi-{{marcadorIndicatorContent(content.id)}}"></i></label>
                                </div>
                                <!-- <div *ngIf="i==2" class="col-md-2 text-center">
                                    <label><i class="mdi mdi-close"></i></label>
                                </div> -->
                            </div>
                            <br>
                            </div>
                        </div>
                        </div>
                    </div>
                    </div>
                    <!-- MODAL TABLA -->





                    <!-- <img src="assets/map-new-screen-1.png" alt="" width="100%"> -->
                    <!-- <iframe style="padding: 0px;" width="100%" height="90%"frameborder="0" src="https://undp.carto.com/u/undp-admin/builder/0b976f06-2a20-402c-ad37-68185f782ad3/embed" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe> -->
                    <div id="map">
                        <div id="attribution" class="mapboxgl-ctrl mapboxgl-ctrl-attrib mapboxgl-ctrl-bottom-left carto-attribution" style="left: 100px;">
                            <a href="http://www.cartodb.com" class="map-logo cartodb-logo" target="_blank">
                                <img src="assets/carto.svg" alt="CartoDB" title="CartoDB" class="carto-attribution-img">
                            </a>
                        </div>
                    </div>
                    <!-- TAB MAP END -->

                    <div class="map-legend">
                        <div class="title" *ngIf="legendTitle">{{legendTitle}}</div>
                        <table>
                            <tr *ngFor='let x of legendMap'>
                                <td width="20px">
                                    <i class="mdi mdi-checkbox-blank" [ngStyle]="{'color': x.color}"></i>
                                </td>
                                <td class="aling-left">
                                    <span class="map-legend-text-first">{{x.textFirst}}</span>
                                    <span class="map-legend-text-middle">{{x.textMiddle}}</span>
                                    <span class="map-legend-text-last">{{x.textLast}}</span>
                                </td>
                            </tr>
                        </table>
                        <!-- <div *ngFor='let x of legendMap'>
                            <i class="mdi mdi-checkbox-blank" [ngStyle]="{'color': x.color}"></i>
                            <span class="map-legend-text-first">&nbsp;{{x.textFirst}}</span>
                            <span class="map-legend-text-middle">{{x.textMiddle}}</span>
                            <span class="map-legend-text-last">{{x.textLast}}</span>
                            <br>
                        </div> -->


                    </div>
                </div>
            <!-- FIN Map -->
        </div>
    </div>


    <!-- <button type="button" class="btn btn-primary" (click)="openModal(template)">Create template modal</button> -->
<!-- Estilos de los modal -->
    <ng-template #template>
      <div class="modal-body">
          <div class="container" >
              <div class="row" >
                  <div class="col-md-10">
                      <p class="modal-title pull-left">What does this indicator measure?<br><span>indicator {{notFromTab?model.category.id:footerTab}}</span></p>
                  </div>
                  <div class="col-2">
                      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                        <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
              </div>
              <!-- MODAL IN MAP -->
              <div class="row background-modal">
                  <div class="col-md-12">
                    <div *ngIf="(notFromTab?model.category.id:footerTab )==='1a' ">
                        <p class="result-modal">
                            Indicator 1a measures alignment of development partners’ new interventions with country-defined objectives and results; and
                            development partners reliance on countries’ own statistics and monitoring and evaluation processes to track the progress
                            of development interventions.
                            <br>
                            <br> For each development intervention of significant size (US$ 1 million and above) approved during the year of reference,
                            the indicator calculates the degree to which development partners rely on objectives, results indicators and monitoring
                            frameworks drawn from government sourc es, including national, sector and subnational planning tools.
                            <br>
                            <br> The results for the 2016 monitoring round constitute the baseline for this indicator.
                            <br>
                            <br> For complete qualitative information under indicator 1b (contextual information on the country’s existing institutional
                            arrangements for setting priorities and targeting results), please read the individual country’s
                            <a target="_blank"
                                href="http://effectivecooperation.org/monitoring-country-progress/country-and-territory-monitoring-profiles/">monitoring profile</a>.
                            <br>
                            <br> Further information on the methodology for all indicators can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                        </p>
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='2'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 2 seeks to assess the extent to which governments and development partners contribute to an enabling environment
                            for civil society organisations (CSOs), in addition to how CSOs are implementing development effectiveness principles
                            in their own operations. This indicator provides a useful tool to spark multi-stakeholder dialogue among governments,
                            CSOs and development partners at the country level. It also helps identify progress and room for improvement in creating
                            a CSO enabling environment and furthering CSOs’ own development effectiveness.
                            <br>
                            <br> This indicator was measured for the first time as part of the 2016 monitoring round. Data was sourced through a
                            qualitative questionnaire, answers to which were agreed through a country-level multi-stakeholder dialogue process
                            led by the government, and engaging CSOs, development partner, and other relevant stakeholders.
                            <br>
                            <br> The questionnaire contains four modules with questions on: Government support for multi-stakeholder dialogue around
                            national development policies (Module 1);
                            <ul>
                                <li>CSO accountability and transparency (Module 2); </li>
                                <li>Official development co-operation with CSOs (Module 3); and </li>
                                <li>The legal and regulatory environment where CSOs operate (Module 4). </li>
                            </ul>
                            Further information on the methodology for all indicators can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='3' " class="modal-contet">
                        <p class="result-modal">
                            Indicator 3 assesses the engagement of the private sector and the quality of public-private dialogue (PPD) in a given country.
                            In doing so, it recognises the importance of inclusive dialogue with the private sector for building a policy environment
                            conducive to growth and sustainable development.
                            <br>
                            <br> The indicator builds on tools developed by the World Bank, and its three modules combine globally-sourced quantitative
                            scores and country-sourced qualitative information compiled through a multi-stakeholder dialogue process.
                            <br>
                            <br> The indicator is structured around the three following modules:
                            <ul>
                                <li>Module 1 assesses the country’s enabling environment for engagement with the private sector and relies on globally-sourced
                                    data. The results for this module draw on country scores from a series of international indices, including
                                    the ‘Public Engagement’ index from the Open Budget Survey, as well as the ‘Voice and Accountability’, ‘Rule
                                    of Law’ and ‘Control of Corruption’ indices from the Worldwide Governance Indicators and the ‘Citizen Engagement
                                    in Rulemaking’ index.</li>
                                <li>Module 2 assesses the country’s readiness for public-private dialogue. It relies on a qualitative questionnaire,
                                    answers to which were agreed through a country-level multi-stakeholder dialogue process led by the government,
                                    and engaging focal points from the private sector, development partners, trade unions, CSOs and other relevant
                                    stakeholders; </li>
                                <li>Module 3 is designed as an optional component, and provides an in-depth assessment (case study) of the quality
                                    and organisational effectiveness of a given public-private platform in the country.</li>
                            </ul>
                            The results displayed for this indicator (Module 2 only) are on a scale from 0 (weak) to 10 (strong). This indicator was
                            measured for the first time as part of the 2016 monitoring round.
                            <br>
                            <br> For further results from Module 2, please read the country’s monitoring profile. Further information on the methodology
                            for all indicators can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.

                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='4'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 4 seeks to capture the timeliness, comprehensiveness and forward-looking nature of individual development partners’
                            electronic publication of information on co-operation resources. It measures transparency by considering three complementary
                            measurements in parallel: the OECD-DAC’s
                            <a target="_blank" href="http://www.oecd.org/dac/stats/idsonline.htm">Creditor Reporting System</a> (CRS) and
                            <a target="_blank" href="http://www.oecd.org/dac/stats/idsonline.htm">Forward-Spending Survey</a> (FSS); and the
                            <a target="_blank" href="http://dashboard.iatistandard.org/index.html">International Aid Transparency Initiative (IATI)</a>.
                            <br>
                            <br> The
                            <a href="http://www.oecd.org/development/effectiveness/49650173.pdf">Busan Partnership Agreement</a> mandated a ‘common standard’ for transparency, which was to be built on the three
                            measurements. Following joint technical work between these bodies, however, it was clear that it was not possible
                            to develop a singular common standard to assess transparency because the three measurements are designed to meet
                            the needs of different audiences and are therefore not directly comparable in assessing development partners’ reporting
                            performance.
                            <br>
                            <br> To facilitate interpretation of the overall scores for these three transparency assessments, development partners
                            are categorised on the same four-tiered scale: Excellent, Good, Fair and Needs Improvement. Nonetheless, each of
                            the assessments has its own distinct
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2014/04/3.-Global-Partnership-Transparency-Indicator-Methodological-Note.pdf">underlying methodology</a>, and therefore they are not directly comparable among themselves.
                            <br>
                            <br> Further information on the methodology for this indicator can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/02/Steering-Committee-Document-Indicator-4-final.pdf">Transparency Indicator Methodological Note</a>.
                    </div>

                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='5a'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 5a measures whether development co-operation flows are becoming more predictable over time, focusing on annual predictability of development co-operation. In doing so, it recognises that shortfalls in the total amount of funding for the government sector and delays in the in-year disbursements of scheduled funds can have serious implications for a government’s ability to implement development policies and strategies as planned.
                            <br><br>
                            The percentage result displayed for this indicator corresponds to the share of development co-operation funding that is disbursed to the government within the fiscal year for which it was scheduled by the development partner. It captures both the reliability of development partners in delivering the promised resources within the relevant year and their capacity to accurately forecast and disburse this funding (i.e. implement their development co-operation activities) within a 12-month period.
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='5b'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 5b focuses on medium-term predictability of development co-operation. In doing so, it recognises that a lack of comprehensive and credible forward-looking information on development co-operation funding can have serious implications for a government’s ability to plan and implement policies and strategies, deliver public services and design and conduct sound macro-economic policy.
                            <br><br>
                            This indicator measures the estimated share of development co-operation funding covered by indicative forward expenditure or implementation plans shared with government. Such plans must cover all known components of the development partner’s country programme.
                            <br><br>
                            The percentage displayed for this indicator is an average of three measures: the proportion of development co-operation funding covered by indicative forward expenditure or implementation plans at the country level, for one, two and three years ahead.
                            <br><br>
                            The forward spending plan must meet all of the following criteria in order to be included in the results:
                            <ul>
                                <li>Be made available by the development partner in written or electronic form;</li>
                                <li>Set out clearly indicative information on future spending and / or implementation activities in the country;</li>
                                <li>Present funding amounts (at least) by year, while using the partner country’s own fiscal year;</li>
                                <li>Be comprehensive in its coverage of known sectors, types and modalities of support; and </li>
                                <li>Clearly state the amount and currency of funding.</li>
                            </ul>
                            For results disaggregated by forward spending plans for one, two and three years ahead, please click <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2017/11/GPEDC-2016-Monitoring-Round_Indicator-5b-Data.pdf">here</a>.
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='6'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 6 measures the percentage of development co-operation funding scheduled for disbursement by development partners that is recorded in the annual budgets approved by the legislature of a given country.
                            <br><br>
                            The formulation of the budget is a central feature of the policy process in all countries. As such, the degree to which financial contributions from development partners to the government sector are fully and accurately reflected in the budget provides a significant indication of the degree to which there is a serious effort to connect development co-operation programmes with country policies and process, and to support domestic oversight and accountability for the use of development co-operation funding for best results.
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='7'"
                        class="modal-contet">
                        <p class="result-modal">
                            Indicator 7 seeks to measure progress made by developing countries in undertaking mutual assessment reviews with their development
                            partners. The principle of mutual accountability recognises that development impacts improve when all parties take
                            responsibility for their contributions.
                            <br>
                            <br> A country is considered to have a mutual assessment in place when at least four of the following five criteria have
                            been met:
                            <ul>
                                <li>An aid or partnership policy is in place that defines the country’s development co-operation priorities;</li>
                                <li>Country-level targets (for both the country and its development partners) have been established;</li>
                                <li>Government and development partners conduct regular joint assessment towards these targets at least every two
                                    years;</li>
                                <li>Non-executive stakeholders and local governments are involved in these joint assessments; and</li>
                                <li>Results of joint assessments are made public.</li>
                            </ul>
                            Further information on the methodology for all indicators can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='8'"
                        class="modal-contet">
                        <p class="result-modal">
                            This indicator seeks to measure government efforts to track and make public resource allocations for gender equality and
                            women’s empowerment. It does so by encouraging national governments to develop appropriate budget tracking and monitoring
                            systems and commit to making information about allocations for gender equality readily accessible to the public.
                            <br>
                            <br> Tracking budget allocations with a gender perspective makes it possible to apply a gender lens to development co-operation
                            funds recorded in national budgets, and builds accountability to incentivise gender equality.
                            <br>
                            <br>
                            <a target="_blank" href="http://www.unwomen.org/en">UN Women</a>, in collaboration with the
                            <a target="_blank" href="http://www.oecd.org/dac/gender-development/">OECD-DAC Network on Gender Equality (GENDERNET)</a>, developed the methodology and set of criteria to roll out this
                            global indicator at country level and to monitor performance against this indicator over time.
                            <br>
                            <br> For the purpose of measuring this indicator, a country is considered to have a system in place to track gender allocations
                            when one out of the following first three criteria and the fourth criteria are met:
                            <ul>
                                <li>The country has an official government statement for tracking budget allocations for gender equality and women’s
                                    empowerment;</li>
                                <li>Allocations for gender equality and women’s empowerment are systematically tracked through an officially planned,
                                    regular process;</li>
                                <li>Leadership and oversight of the tracking system is carried out by the central government unit in charge of public
                                    expenditure; and</li>
                                <li>Budget information that focuses on gender equality is made publicly available.</li>
                            </ul>
                            Further information on the methodology for all indicators can be found in the
                            <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab )==='9a'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 9a seeks to assess progressive strengthening of a country’s own systems. Well-performing country systems are essential to ensure that public expenditure for ambitious national plans translates into development results in the most effective and sustainable manner.
                            <br><br>
                            This indicator measures the proportion of participating countries moving up by at least half a point on the World Bank’s Quality of Budgetary and Financial Management Scale. It is based on the scores for the quality of budgetary and financial management of the World Bank’s <a target="_blank" href="https://data.worldbank.org/data-catalog/CPIA">Country Policy and Institutional Assessment</a> (CPIA).
                            <br><br>
                            Scores range from 1-6 in half-point increments; the higher the score, the more reliable the country’s budget and financial management system is considered to be.
                            <br><br>
                            The CPIA assesses whether the country meets the following three criteria, which are equally weighted:
                            <ul>
                                <li>Existence of a comprehensive and credible budget, linked to policy priorities;</li>
                                <li>Effective financial management systems to ensure that the budget is implemented as intended in a controlled and predictable way; and</li>
                                <li>Timely and accurate accounting and financial reporting, including audited public accounts and effective arrangements for follow-up.</li>
                            </ul>
                            For the 2016 monitoring round, the Global Partnership monitoring framework drew on the most recent CPIA scores (2015). For the 2014 monitoring round, CPIA scores from 2012 were used.
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.

                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) ==='9b'" class="modal-contet">
                        <p class="result-modal">
                            Indicator 9b measures the proportion of development co-operation disbursed to the government using the country’s own financial management and procurement systems. This includes using the country’s own rules and procedures – versus those of the development partner – for budget execution, financial reporting, auditing and procurement of goods and services.
                            <br><br>
                            The Global Partnership measures the use of public and financial procurement systems as proxies for the broader use of national systems and institutions.
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>.
                    </div>
                    <div *ngIf="(notFromTab?model.category.id:footerTab) === '10' " class="modal-contet">
                        <p class="result-modal">
                            Indicator 10 measures the share of development assistance that is fully untied within a given country or by a development partner. Tied aid implies funding for which partners establish geographical restrictions as to where funds can be spent.
                            <br><br>
                            Tying funding decreases the effective use of the funds and reduces the value-for-money of development co-operation. Tied aid also challenges the country’s ownership over purchasing decisions and deprives the country of potential positive externalities in using development co-operation, such as using local suppliers.
                            <br><br>
                            Aid is considered untied when the bilateral partner does not impose geographical restrictions on the use of the development co-operation funds.
                            <br><br>
                            Data for this indicator was self-reported by development partners through the OECD-DAC Creditor Reporting System (CRS).
                            <br><br>
                            Further information on the methodology for all indicators can be found in the <a target="_blank" href="http://effectivecooperation.org/wp-content/uploads/2016/08/2015-2016-GPEDC-Monitoring-Guide.pdf">2015 Monitoring Guide</a>..
                    </div>
                  </div>
              </div>
          </div>
      </div>
    </ng-template>
    <div class="loader-bg" [hidden]="!isLoading()">
        <div class="circles-loader"> </div>
    </div>
